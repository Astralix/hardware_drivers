
.equ	PTE_S,	0x12	/* section page table entry */
.equ	PTE_C,	0x11	/* coarse page table entry */

/* ------ create L1 entry ------ */
	.macro L1Entry type, addr, dom, ucb, acc
	.if \type == PTE_S
		.word	(((\addr) & 0xfff00000) |		\
			 ((\acc) << 10) |			\
			 ((\dom) << 5) | (\ucb << 2) | (PTE_S))
	.elseif \type == PTE_C
		.word	(((\addr) & 0xfffffc00) |		\
			 ((\dom) << 5) | (PTE_C))
	.else
		.word	0xDEAD0000
	.endif
	.endm

/* ------ create L2 entry ------ */
	.macro L2Entry addr
		.word	(((\addr) & 0xfffff000) |		\
			 ((0xFF) << 4) |			\
			 (0x2))
	.endm

/* ------ create number of page table entries for unmapped memory ------ */
	.macro L1Fault nr
	.fill	\nr, 4, 0xDEAD0100		/* invalide L1 entry */
	.endm

	.macro L2Fault nr
	.fill	\nr, 4, 0xDEAD0200		/* invalid L2 entry */
	.endm

	.align 15 
	.section "mmu_table", "awx"
	.global mmu_page_table
mmu_page_table:
	L1Entry PTE_S, 0x00000000, 0x0, 0x3, 0x3
	L1Fault 0x4F
	L1Entry PTE_S, 0x05000000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x05100000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x05200000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x05300000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x05400000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x05500000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x05600000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x05700000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x05800000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x05900000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x05A00000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x05B00000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x05C00000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x05D00000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x05E00000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x05F00000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x06000000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x06100000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x06200000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x06300000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x06400000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x06500000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x06600000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x06700000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x06800000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x06900000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x06A00000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x06B00000, 0x0, 0x0, 0x3
	L1Fault 0x25
	L1Entry PTE_S, 0x09100000, 0x0, 0x0, 0x3
	L1Fault 0x3
	L1Entry PTE_S, 0x09500000, 0x0, 0x0, 0x3
	L1Fault 0x1
	L1Entry PTE_S, 0x09700000, 0x0, 0x0, 0x3
	L1Fault 0x1
	L1Entry PTE_S, 0x09900000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x09A00000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x09B00000, 0x0, 0x0, 0x3
	L1Entry PTE_S, 0x09C00000, 0x0, 0x0, 0x3
	L1Fault 0x63
	L1Entry PTE_S, 0x10000000, 0x0, 0x3, 0x3
	L1Fault 0x3F
	L1Entry PTE_S, 0x14000000, 0x0, 0x3, 0x3
	L1Fault 0x1F
	L1Entry PTE_S, 0x16000000, 0x0, 0x3, 0x3
	L1Fault 0x49F
	L1Entry PTE_S, 0x60000000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x60100000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x60200000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x60300000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x60400000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x60500000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x60600000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x60700000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x60800000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x60900000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x60A00000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x60B00000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x60C00000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x60D00000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x60E00000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x60F00000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x61000000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x61100000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x61200000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x61300000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x61400000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x61500000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x61600000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x61700000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x61800000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x61900000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x61A00000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x61B00000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x61C00000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x61D00000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x61E00000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x61F00000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x62000000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x62100000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x62200000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x62300000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x62400000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x62500000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x62600000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x62700000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x62800000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x62900000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x62A00000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x62B00000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x62C00000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x62D00000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x62E00000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x62F00000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x63000000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x63100000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x63200000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x63300000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x63400000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x63500000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x63600000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x63700000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x63800000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x63900000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x63A00000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x63B00000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x63C00000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x63D00000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x63E00000, 0x0, 0x3, 0x3
	L1Entry PTE_S, 0x63F00000, 0x0, 0x3, 0x3
	L1Fault 0x9C0

#if 0
	L1Fault 0x9BF
	L1Entry PTE_C, 0x61244000, 0x0, 0x0, 0x3

	/* --- coarse page table for high vector mapping --- */
	.align	2
l2_page_table:
	L2Fault 240
	L2Entry 0x00000000
	L2Fault 15
#endif
